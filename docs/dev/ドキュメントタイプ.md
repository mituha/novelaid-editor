# ドキュメントタイプ


## 概要

`novelaid-editor`は内部的には以下のようなドキュメントタイプを扱います。

* novel
  + 小説原稿
  + 拡張子は`.txt`、現状は、`.md`も小説として扱っています。
    + TODO 将来的には変更予定
* markdown
  + プロットや設定等、小説以外の汎用のマークダウンファイル
  + 基本的に小説以外はこの形式を取るものとします。
  + 拡張子は`.md`
* chat
  + チャットチャンネル
  + 拡張子は`.ch`
* image
  + 画像系のファイル
  + 現状は表示のみとなります

テキスト系のファイルの場合、エディターでの区別にもなります。

基本的には拡張子で判断しますが、ファイル名、および、`.novelaidignore`、`.novelaidincludes`ファイルによって決定される場合があります。

## 互換性による処理

元々作者がObsidianとの併用を前提としていたため、小説原稿を`.md`で管理していました。
そのため、当初は`.novelaidignore`で`.md`ファイルを小説扱いしない特殊処理を入れようとしていました。
しかし、設定用のマークダウンファイル等も`.md`で管理しているため、かなりややこしいことになりました。
そこで、フォルダーによってメインと鳴るドキュメントタイプがどちらとなるかを区別するようにします。

作者環境でのプロジェクト内の構成としては、

```
設定
 ├─ 設定.md
 ├─ .novelaidignore
 └─ .novelaidincludes

小説
 ├─ 小説.txt
 └─ 小説.md 

.novelaidattributes
```

通常のプロジェクトではルートフォルダで設定用と小説用のフォルダーを分けています。
TODO ルートフォルダーにおいてはフォルダーの名称で種類を分けても良さそう。
仮に違う場合に`.novelaidignore`、`.novelaidincludes`ファイルで区別するようにします。

## ディレクトリの優先ドキュメントタイプ

ディレクトリにより優先するドキュメントタイプが決まります。
`novel`または`markdown`、`chat`の区別のみとなります。

* novel
  + 小説原稿
  + 拡張子は`.txt`、現状は、`.md`も小説として扱っています。
    + TODO 将来的には変更予定
  + フォルダ名に`novel`、`小説`が含まれるディレクトリがこれに該当します。
* markdown
  + プロットや設定等、小説以外の汎用のマークダウンファイル
  + 基本的に小説以外はこの形式を取るものとします。
  + 拡張子は`.md`
  + フォルダ名に`設定`、`プロット`、`資料`、`wiki`が含まれるディレクトリがこれに該当します。
* chat
  + チャットチャンネル用
  + 拡張子は`.ch`
  + フォルダ名に`chat`、`チャット`、`channel`、`チャンネル`が含まれるディレクトリがこれに該当します。
