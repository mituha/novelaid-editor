/**
 * 小説特有の記法（ルビ、傍点、セリフなど）に関する正規表現定数
 */

export const NOVEL_PATTERNS = {
  /**
   * ルビ記法: |漢字《かんじ》 or ｜漢字《かんじ》
   * 1番目のグループに本文、2番目のグループにルビが選ばれます
   */
  RUBY_WITH_PIPE: /[|｜]([^|｜\n《》]+)《([^《》\n]+)》/g,

  /**
   * 一般的なルビ記法（パイプなし）: 漢字《かんじ》
   * パイプありと併用する場合は順序に注意
   */
  RUBY_WITHOUT_PIPE: /([^|｜\n《》]+)《([^《》\n]+)》/g,

  /**
   * 傍点（圏点）: 《《傍点》》
   */
  BOUTEN: /《《([^《》\n]+)》》/g,

  /**
   * セリフ（鉤括弧）: 「セリフ」
   */
  DIALOGUE: /「(.*?)」/g,

  /**
   * セリフ（二重鉤括弧）: 『セリフ』
   */
  DIALOGUE_DOUBLE: /『(.*?)』/g,

  /**
   * 全角スペース: \u3000
   */
  FULL_WIDTH_SPACE: /\u3000/g,
};

/**
 * Monaco Editor (Monarch) 用のトークナイザ定義で使いやすい形式
 * Monarch では正規表現リテラルをそのまま渡すことが多いため、
 * 必要に応じてここから参照、または再定義します。
 */
export const NOVEL_MONARCH_PATTERNS = {
  RUBY: /[|｜][^《]*《[^》]*》/,
  BOUTEN: /《《[^》]*》》/,
  DIALOGUE: /「[^」]*」/,
  DIALOGUE_DOUBLE: /『[^』]*』/,
};
